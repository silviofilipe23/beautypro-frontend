<section id="userCreate">
    <div class="row">
      <div class="col-md-12 mt-4">
        <h1>Cadastrar Usuário</h1>
      </div>
    </div>
  
    <div class="row my-3">
      <form [formGroup]="userForm" (ngSubmit)="createUser()">
        <div class="row">
          <div [ngClass]="!editObject ? 'col-md-8' : 'col-md-7'">
            <mat-form-field appearance="outline" style="width: 100%">
              <mat-label>Nome</mat-label>
              <input
                matInput
                placeholder="Nome do Usuário"
                type="text"
                formControlName="name"
              />
              <mat-error *ngIf="userForm.controls['name'].hasError('required')">
                Nome é obrigatório
              </mat-error>
            </mat-form-field>
          </div>
  
          <div class="col-md-4">
            <!-- <mat-form-field appearance="outline" style="width: 100%">
              <mat-label>CPF</mat-label>
              <input
                matInput
                placeholder="Ex: 000.000.000-00"
                type="text"
                maxlength="11"
                formControlName="cpf"
              />
              <mat-error *ngIf="userForm.controls['cpf'].hasError('required')">
                CPF é obrigatório
              </mat-error>
            </mat-form-field> -->
          </div>
  
          <div class="col-md-1" *ngIf="editObject">
            <mat-slide-toggle
              class="mt-3"
              formControlName="active"
              color="primary"
            >
              {{ userForm.controls["active"].value ? "Ativo" : "Inativo" }}
            </mat-slide-toggle>
          </div>
        </div>
        <div class="row">
          <div class="col-md-4">
            <!-- <mat-form-field appearance="outline" style="width: 100%">
              <mat-label>RG</mat-label>
              <input
                matInput
                placeholder="RG do usere"
                type="text"
                maxlength="11"
                formControlName="rg"
              />
              <mat-error *ngIf="userForm.controls['rg'].hasError('required')">
                RG é obrigatório
              </mat-error>
            </mat-form-field> -->
          </div>
  
          <div class="col-md-4">
            <mat-form-field appearance="outline" style="width: 100%">
              <mat-label>E-mail</mat-label>
              <input
                matInput
                placeholder="E-mail do usere"
                type="email"
                formControlName="email"
              />
              <mat-error
                *ngIf="userForm.controls['email'].hasError('required')"
              >
                Email é obrigatório
              </mat-error>
              <mat-error *ngIf="userForm.controls['email'].hasError('email')">
                Email inválido
              </mat-error>
            </mat-form-field>
          </div>
  
          <div class="col-md-4">
            <mat-form-field appearance="outline" style="width: 100%">
              <mat-label>Telefone</mat-label>
              <input
                matInput
                placeholder="Telefone do usere"
                type="text"
                maxlength="11"
                formControlName="phoneNumber"
              />
              <mat-error
                *ngIf="userForm.controls['phoneNumber'].hasError('required')"
              >
                Telefone é obrigatório
              </mat-error>
            </mat-form-field>
          </div>
        </div>
  
        <div class="row">
          <div class="col-md-4">
            <mat-form-field appearance="outline" style="width: 100%">
              <mat-label>CEP</mat-label>
              <input
                matInput
                placeholder="CEP do usere"
                type="text"
                maxlength="8"
                formControlName="cep"
              />
              <mat-error *ngIf="userForm.controls['cep'].hasError('required')">
                Telefone é obrigatório
              </mat-error>
            </mat-form-field>
          </div>
  
          <div class="col-md-8">
            <mat-form-field appearance="outline" style="width: 100%">
              <mat-label>Logradouro</mat-label>
              <input
                matInput
                placeholder="Nome da Rua do usere"
                type="text"
                formControlName="street"
              />
              <mat-error
                *ngIf="userForm.controls['street'].hasError('required')"
              >
                Rua é obrigatório
              </mat-error>
            </mat-form-field>
          </div>
        </div>
  
        <div class="row">
          <div class="col-md-4">
            <mat-form-field appearance="outline" style="width: 100%">
              <mat-label>Número</mat-label>
              <input
                matInput
                maxlength="10"
                placeholder="Número do usere"
                type="text"
                formControlName="number"
              />
              <mat-error
                *ngIf="userForm.controls['number'].hasError('required')"
              >
                Número é obrigatório
              </mat-error>
            </mat-form-field>
          </div>
  
          <div class="col-md-8">
            <mat-form-field appearance="outline" style="width: 100%">
              <mat-label>Complemento</mat-label>
              <input
                matInput
                placeholder="Complemento"
                type="text"
                formControlName="complement"
              />
              <mat-error
                *ngIf="userForm.controls['complement'].hasError('required')"
              >
                Complemento é obrigatório
              </mat-error>
            </mat-form-field>
          </div>
        </div>
  
        <div class="row">
          <div class="col-md-4">
            <mat-form-field appearance="outline" style="width: 100%">
              <mat-label>Bairro</mat-label>
              <input
                matInput
                placeholder="Bairro do usere"
                type="text"
                maxlength="32"
                formControlName="district"
              />
              <mat-error
                *ngIf="userForm.controls['district'].hasError('required')"
              >
                Bairro é obrigatório
              </mat-error>
            </mat-form-field>
          </div>
  
          <div class="col-md-4">
            <mat-form-field appearance="outline" style="width: 100%">
              <mat-label>Estado</mat-label>
              <mat-select
                formControlName="state"
                (selectionChange)="onChangeState($any($event))"
              >
                <mat-option *ngFor="let state of states" [value]="state">
                  {{ state.name }}
                </mat-option>
              </mat-select>
              <mat-error
                *ngIf="userForm.controls['state'].hasError('required')"
              >
                Estado é obrigatório
              </mat-error>
            </mat-form-field>
          </div>
  
          <div class="col-md-4">
            <mat-form-field appearance="outline" style="width: 100%">
              <mat-label>Cidade</mat-label>
              <mat-select formControlName="city">
                <mat-option *ngFor="let city of cities" [value]="city">
                  {{ city.name }}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="userForm.controls['city'].hasError('required')">
                Cidade é obrigatório
              </mat-error>
            </mat-form-field>
          </div>
        </div>
  
        <div class="row">
          <div class="col-md-12">
            <mat-form-field appearance="outline" style="width: 100%">
              <mat-label>Observações</mat-label>
              <textarea
                formControlName="observations"
                matInput
                placeholder="Anotações gerais..."
              ></textarea>
            </mat-form-field>
          </div>
        </div>
  
        <div class="row mt-3">
          <div class="col-md-6 col-12 text-end actions-buttons mb-md-0 mb-3">
            <button
              mat-raised-button
              color="warn"
              class="me-sm-3 me-0"
              routerLink="/user-list"
            >
              Cancelar
            </button>
          </div>
  
          <div class="col-md-6 col-12 text-md-start actions-buttons">
            <button mat-raised-button color="primary" type="submit">
              Salvar
            </button>
          </div>
        </div>
      </form>
    </div>
  </section>
  